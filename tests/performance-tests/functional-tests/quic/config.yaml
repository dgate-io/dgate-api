version: v1
log_level: debug

storage:
  type: memory

proxy:
  port: ${DGATE_PORT:-8080}
  host: 0.0.0.0
  
  init_resources:
    namespaces:
      - name: "test"
    
    services:
      - name: "quic-upstream"
        namespace: "test"
        urls:
          # Note: QUIC/HTTP3 requires HTTPS
          - "https://127.0.0.1:${TEST_SERVER_PORT:-8443}"
        tls_skip_verify: true  # For self-signed certs in testing
    
    routes:
      - name: "quic-route"
        paths: ["/quic/**"]
        methods: ["GET", "POST"]
        namespace: "test"
        service: "quic-upstream"
        strip_path: true
    
    domains:
      - name: "default-domain"
        namespace: "test"
        patterns: ["*"]

admin:
  port: ${DGATE_ADMIN_PORT:-9080}
  host: 0.0.0.0
